<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="arttools">
<title>Generative art workflow • arttools</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generative art workflow">
<meta property="og:description" content="arttools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">arttools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/workflow.html">Generative art workflow</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/djnavarro/arttools/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generative art workflow</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/djnavarro/arttools/blob/HEAD/vignettes/articles/workflow.Rmd" class="external-link"><code>vignettes/articles/workflow.Rmd</code></a></small>
      <div class="d-none name"><code>workflow.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/djnavarro/arttools" class="external-link">arttools</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="structure-of-an-art-repository">Structure of an art repository<a class="anchor" aria-label="anchor" href="#structure-of-an-art-repository"></a>
</h2>
<p>Core insight: there are <em>four</em> distinct products:</p>
<ol style="list-style-type: decimal">
<li>The source code (and other inputs) for the generative art
system</li>
<li>The raw output created by the generative art system</li>
<li>The processed/curated images and accompanying manifest file</li>
<li>The gallery page on the generative art site displaying the
images</li>
</ol>
<p>Each of these has a different home!</p>
<ol style="list-style-type: decimal">
<li>Source code lives on GitHub, one repo per system</li>
<li>Raw output is ephemeral: it exists only locally</li>
<li>Processed images live as a “folder” in the public GCS Bucket</li>
<li>Gallery page is in the art site repo and hotlinks to images</li>
</ol>
<div class="section level3">
<h3 id="repository-name">Repository name<a class="anchor" aria-label="anchor" href="#repository-name"></a>
</h3>
<ul>
<li><p>Every system should have a “system id” string
<code>sys_id</code></p></li>
<li><p>The repository name should always be
<code>series-[system identifier]</code></p></li>
<li>
<p>Example, if the system name is “subdivision” then the repo
is:</p>
<pre><code><span><span class="va">series</span><span class="op">-</span><span class="va">subdivision</span></span></code></pre>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="folder-structure">Folder structure<a class="anchor" aria-label="anchor" href="#folder-structure"></a>
</h3>
<ul>
<li>Source code belongs to the <code>source</code> folder</li>
<li>Output files belong to the <code>output</code> folder</li>
<li>The <code>output</code> folder should have one sub-folder per system
version</li>
<li>Build files belong to the <code>build</code> folder</li>
<li>There should be a <code>LICENSE</code> file (probably
CC-BY-4.0)</li>
</ul>
</div>
<div class="section level3">
<h3 id="source-versioning">Source versioning<a class="anchor" aria-label="anchor" href="#source-versioning"></a>
</h3>
<ul>
<li><p>From the beginning, assume that you’ll iteratively modify the
system. So, in addition to having a “system identifier” that provides a
name for the system, there should be a “system version” string
<code>sys_ver</code>. Use left-padded zeros, and number sequentially:
<code>"001"</code>, <code>"002"</code>, etc. (I use three-digit strings
here: I’ve never gone above 80 versions of a single system, so a
three-digit code should be safe)</p></li>
<li>
<p>Keep separate source files for each new version of the system,
incrementing the version number every time you experiment with something
new:</p>
<pre><code><span><span class="va">subdivision_001.R</span></span>
<span><span class="va">subdivision_002.R</span></span>
<span><span class="va">subdivision_003.R</span></span>
<span><span class="va">etc.</span></span></code></pre>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="seed-choice">Seed choice<a class="anchor" aria-label="anchor" href="#seed-choice"></a>
</h3>
<ul>
<li>Use five-digit numbers for the seeds. That should ensure that even
in the most extravagant situation where we generate large numbers of
output files, we can ensure that output files always sort in numerical
seed order and have the same length.</li>
</ul>
</div>
<div class="section level3">
<h3 id="output-file-names">Output file names<a class="anchor" aria-label="anchor" href="#output-file-names"></a>
</h3>
<ul>
<li><p>Source files should write image files to the <code>output</code>
directory</p></li>
<li><p>Every output file should record the RNG <code>seed</code> used to
produce it</p></li>
<li>
<p>Output files should follow this naming convention:</p>
<pre><code>[system]_[version]_[seed].[file extension]</code></pre>
<p>As an example:</p>
<pre><code><span><span class="va">subdivision_012_22490.png</span></span></code></pre>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="ignored-files">Ignored files<a class="anchor" aria-label="anchor" href="#ignored-files"></a>
</h3>
<ul>
<li>The <code>output</code> folder should be listed in
<code>.gitignore</code> and not committed</li>
<li>A separate “gallery” folder, also called
<code>series-[system identifier]</code> should be used to prepare the
files that should be published. This will be a manual curation process,
copying a subset of generated images from the <code>output</code> folder
to the gallery folder.</li>
<li>The gallery folder should also be listed in
<code>.gitignore</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="build-files">Build files<a class="anchor" aria-label="anchor" href="#build-files"></a>
</h3>
<ul>
<li>
<code>build_previews.R</code>: generates smaller-resolution preview
images</li>
<li>
<code>build_manifest.R</code>: writes the manifest.csv file to the
gallery folder</li>
</ul>
<p>To do:</p>
<ul>
<li>There should be a <code>Makefile</code> that handles the build step,
and <em>only</em> the build step. It’s there to manage the
<code>series-subdivision</code> (or whatever) folder, <em>after</em>
we’ve done the manual curation step and chosen which image files should
be published</li>
</ul>
</div>
<div class="section level3">
<h3 id="the-manifest-file">The manifest file<a class="anchor" aria-label="anchor" href="#the-manifest-file"></a>
</h3>
<p>A csv file containing the following fields:</p>
<ul>
<li>
<code>path</code>: path to the image file (e.g.,
<code>"800/subdivision_012_22490.png"</code>)</li>
<li>
<code>resolution</code>: the image resolution in pixels (if not
square, use the largest dimension)</li>
<li>
<code>series</code>: the system name (e.g.,
<code>"subdivision"</code>)</li>
<li>
<code>sys_id</code>: the system version string (e.g,
<code>"012"</code>)</li>
<li>
<code>img_id</code>: the image identifier, usually just the seed
(e.g. <code>"22490"</code>)</li>
<li>
<code>format</code>: the file extension (e.g.,
<code>"png"</code>)</li>
<li>
<code>date</code>: the publication date in YYYY-MM-DD format
(e.g. <code>"2023-06-02"</code>)</li>
</ul>
<p>To do:</p>
<ul>
<li>Manifests should also have a <code>manifest_version</code> field so
that if I later change the manifest format the reader can work out how
to handle the manifest by inspecting that field</li>
</ul>
</div>
<div class="section level3">
<h3 id="system-name-changes">System name changes<a class="anchor" aria-label="anchor" href="#system-name-changes"></a>
</h3>
<p>It’s grossly typical that we choose a new name at the end of the
process. Solution to this is to make it “superficial only”. That is:</p>
<ul>
<li>Don’t rename source files</li>
<li>Don’t rename the system ids etc within source files</li>
<li>Don’t rename the output file</li>
</ul>
<p>But we:</p>
<ul>
<li>Do rename the repository on github (e.g., from
<code>series-rectangles</code> to <code>series-subdivision</code>)</li>
<li>Do rename the gallery folder (again, e.g., from
<code>series-rectangles</code> to <code>series-subdivision</code>)</li>
<li>Use the new name in the <code>_gallery.csv</code> file</li>
</ul>
<p>It’s not ideal, but it minimises mess, and ultimately ensures that
the thing that gets published uses the correct name on the art website
and on github. It also has the nice property of preserving redirects on
github.</p>
</div>
<div class="section level3">
<h3 id="publishing-images-to-cloud-storage">Publishing images to cloud storage<a class="anchor" aria-label="anchor" href="#publishing-images-to-cloud-storage"></a>
</h3>
<ul>
<li><p>Optional, but desirable: move (or copy) the gallery folder to the
<code>~/Bucket/djnavarro-art</code> folder. Gallery folders properly
belong to the object store rather than the git repo, so we might as well
have that reflected locally!</p></li>
<li>
<p>To publish a gallery folder, copy it to the
<code>djnavarro-art</code> bucket on google cloud storage using the
<code>series-upload.sh</code> script. For instance:</p>
<pre><code>./series-upload.sh series-subdivision</code></pre>
<p>The actual script:</p>
<pre><code>#! /bin/bash
FOLDER=$1;
gcloud storage cp $FOLDER gs://djnavarro-art --recursive --project generative-art-389407</code></pre>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="updating-the-website">Updating the website<a class="anchor" aria-label="anchor" href="#updating-the-website"></a>
</h3>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Danielle Navarro.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
